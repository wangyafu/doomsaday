前端技术架构选型建议 (Frontend Architecture)

针对《末世模拟器：丧尸围城篇》的开发需求，本着开发效率优先、兼顾性能与动效的原则，推荐以下技术栈。

1. 核心技术栈 (Core Stack)

🏆 推荐方案：Vue 3 生态

理由： 响应式系统最适合处理游戏数值变化，内置动画系统强大，心智负担低。

框架： Vue 3 (Composition API)

说明： 使用 <script setup> 语法，代码极其简洁。

语言： TypeScript

说明： 游戏涉及大量的数据结构（物品对象、属性数值），TS 能有效防止“拼写错误”导致的 Bug，且配合 IDE 提示开发极快。

构建工具： Vite

说明： 秒级启动，热更新极快，现代前端标配。

路由： Vue Router 4

说明： 简单配置首页、囤货页、游戏页、结算页的跳转。

🥈 备选方案：React 生态

理由： 生态最丰富，如果你团队里 React 高手多，选这个没错。

框架： React 18

状态管理： Zustand (比 Redux 简单太多，适合小游戏)

动画： Framer Motion (非常强大的动画库，但包体积稍大)

2. 关键功能库 (Key Libraries)

🎨 UI 与样式 (Styling)

CSS 框架： Tailwind CSS

必选理由： 也是为了快。写 <div class="bg-black text-red-500 animate-pulse"> 比写 CSS 文件快得多。且非常方便做暗黑模式和响应式适配。

UI 组件库 (可选)： DaisyUI

说明： 基于 Tailwind 的组件库，提供了现成的“进度条”、“卡片”、“按钮”，风格很适合做游戏 UI。

💾 状态管理 (State Management)

库： Pinia (配合 Vue 3)

必选理由： 极其轻量。我们需要在 Pinia 中存储 GlobalState（金钱、天数、物品栏、HP/SAN值）。

持久化插件： pinia-plugin-persistedstate —— 关键！ 它可以自动把你的游戏状态保存到 LocalStorage，用户刷新页面、关掉浏览器，进度都不会丢。

✨ 动画与特效 (Animation)

基础动画： Vue Transition (内置)

用途： 页面切换、物品进入背包的位移、日志淡入淡出。

数值动画： GSAP (GreenSock) 或 Anime.js

用途： 当 HP 扣除时，数字从 100 滚动到 80 的效果；或者 SAN 值低时屏幕的扭曲效果。

打字机效果： TypeIt 或 自写简单 Hook

用途： AI 生成的日志逐字显示，增加沉浸感。

🖼️ 图像生成 (Image Generation)

库： html2canvas 或 dom-to-image

用途： 这是做小红书爆款的关键！ 在结算页面，将 DOM 节点（包含战绩、雷达图、人设词）直接截图生成一张 .png 图片，供用户长按保存。

3. 目录结构建议 (Directory Structure)

一个清晰的目录结构能让你开发不迷路：

src/
├── api/                # 存放所有后端 API 调用 (Narrator, Judge, Summary)
├── assets/             # 静态资源 (图片、手绘素材、音效)
├── components/         # 公共组件
│   ├── Game/           # 游戏相关组件 (InventoryGrid, StatBar, TypewriterText)
│   ├── UI/             # 基础 UI (Button, Modal, Card)
│   └── Effects/        # 特效组件 (GlitchScreen, BloodOverlay)
├── stores/             # Pinia 状态管理
│   ├── gameStore.ts    # 核心：存 HP, SAN, 物品, 历史记录
│   └── uiStore.ts      # 存 UI 状态 (弹窗开关, 动画状态)
├── views/              # 页面级组件
│   ├── Home.vue        # 首页/序章
│   ├── Rebirth.vue     # 重生剧情页
│   ├── Market.vue      # 囤货页 (含倒计时)
│   ├── Survival.vue    # 生存循环页 (核心玩法)
│   └── Ending.vue      # 结算页 (含生成图片功能)
├── utils/              # 工具函数 (随机数生成, 格式化, 游戏逻辑辅助)
└── App.vue


4. 特殊技术难点预案

移动端适配 (H5)：

视口锁定： 禁止用户缩放。在 index.html 设置 meta viewport。

安全区： 适配 iPhone 底部小黑条 (padding-bottom: env(safe-area-inset-bottom)).

音效管理：

推荐使用 Howler.js。处理背景音乐 (BGM) 和 音效 (SFX) 的混合，以及静音功能。

注意： 现代浏览器禁止自动播放音频，必须在用户第一次点击屏幕后才能播放 BGM。

长列表性能：

虽然是文字游戏，如果历史记录 (History) 很长，渲染可能会卡。

方案： 只渲染最近 50 条日志，更早的日志折叠或虚拟滚动。